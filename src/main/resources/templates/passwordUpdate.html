<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments/fragment :: head">

</head>

<body>

<nav th:replace="fragments/fragment :: navigation"></nav>

<!--        Edit-->
<div class="container" id="edit">
    <form role="form"
          th:object="${userPasswordUpdateBindingModel}"
          th:action="@{/users/editPassword/{id}(id=*{id})}"
          th:method="POST">

        <div class="form-group row">
            <label class="col-lg-3 col-form-label form-control-label">Current Password</label>
            <div class="col-lg-9">
                <input th:field="*{oldPassword}" th:errorclass="bg-danger" class="form-control" type="password" placeholder="current password">
            </div>
            <small th:if="${#fields.hasErrors('oldPassword')}" th:errors="*{oldPassword}"
                   id="oldPassword" class="bg-danger text-light rounded">
                Password length must be more than 5 characters long.
            </small>
        </div>

        <div class="form-group row">
            <label class="col-lg-3 col-form-label form-control-label">Password</label>
            <div class="col-lg-9">
                <input th:field="*{newPassword}" th:errorclass="bg-danger" class="form-control" type="password" placeholder="password">
            </div>
            <small th:if="${#fields.hasErrors('newPassword')}" th:errors="*{newPassword}"
                   id="passwordHelpInline" class="bg-danger text-light rounded">
                Password length must be more than 5 characters long.
            </small>
        </div>

        <div class="form-group row">
            <label class="col-lg-3 col-form-label form-control-label">Confirm password</label>
            <div class="col-lg-9">
                <input th:field="*{confirmNewPassword}" th:errorclass="bg-danger" class="form-control" type="password"
                       placeholder="confirm password">
            </div>
            <small th:if="${#fields.hasErrors('confirmNewPassword')}"
                   th:errors="*{confirmNewPassword}"
                   id="confirmNewPasswordHelpInline" class="bg-danger text-light rounded">
                Password length must be more than 5 characters long.
            </small>

            <small th:if="${passwordIsNotEqual}" class="bg-danger text-light rounded">
                Password not matching !
            </small>
        </div>

        <div class="form-group row">
            <label class="col-lg-3 col-form-label form-control-label"></label>
            <div class="col-lg-9">
                <button type="submit" class="btn btn-primary"> Save Changes </button>
                <a class="btn btn-danger" th:href="@{/users/profile}">Cancel</a>
            </div>
        </div>
    </form>
</div>


<footer th:replace="fragments/fragment :: footer"></footer>
</body>
</html>